#pragma once
#include <Vagante/sfml.h>
#include <Vagante/geometry.h>
#include <Vagante/effects.h>
#include <Vagante/enums.h>
#include <Vagante/stage.h>
#include <Vagante/forward.h>
#include <Vagante/graphic.h>
#include <Vagante/audio.h>
#include <Vagante/misc.h>
#include <map>
#include <string>
#include <vector>
#include <set>
#include <queue>

#pragma warning(push)
#pragma warning(disable: 4624) // destructor was implicitly defined as deleted
#pragma warning(disable: 26495) // always initialize a member variable

struct EntityHandlerInterface {
    uint entityHandlerVectorIndex;
};

struct SpriteEntityInterface {
    std::vector<Sprite*> entitySprites;
    std::string m_paletteGroupName;
    std::string m_paletteName;
};

struct StatusEffect {
    char padding[0x214];
};

struct EntityState {
    int number;
    int type;
    float x;
    float y;
    float dx;
    float dy;
    uint flags;
    uint flags2;
    uint flags3;
    uint flags4;
    uint flags5;
    uint flags6;
    uint statusEffectFlags;
    uint statusEffectFlags2;
    uchar owner;
    float hp;
    uchar specialFlags;
    short _padding_;
    std::shared_ptr<Entity> entity;
};

struct alignas(8) Entity: public paddedVtable, public std::enable_shared_from_this<Entity>, public EntityHandlerInterface, public SpriteEntityInterface {
    EntityType type;
    EntityState entityState;
    bool networked;
    bool predicted;
    bool clientSide;
    bool serverSide;
    bool networkKeepAlive;
    int netId;
    float x;
    float y;
    float dx;
    float dy;
    float prevDy;
    float w;
    float h;
    bool hasSeparatePhysicalBounds;
    ConvexBody body;
    bvhAABB aabb;
    int proxyId;
    float hp;
    float maxHp;
    bool onPlatform;
    bool neverCollidesPlatform;
    bool alwaysDraw;
    float lightAlpha;
    bool canSupportRestingChildren;
    float restingChildMoveRatio;
    bool heavy;
    short __padding;
    std::shared_ptr<Entity> restingParent;
    std::map<std::shared_ptr<Entity>, int> restingChildren;
    bool continuousCollision;
    bool landedDown;
    bool landedUp;
    bool landedLeft;
    bool landedRight;
    uchar landCollideFlags;
    bool immortal;
    bool palpable;
    bool physical;
    bool doesCollideLevel;
    float invMass;
    bool die;
    bool removeOnDie;
    bool bouncy;
    sf::Vector2<float> bounceRestitution;
    float stability;
    EntityFaction faction;
    int zIndex;
    bool isMonster;
    bool isUnit;
    bool inWater;
    bool touchingWater;
    ulong64 lastServerTime;
    int spikeBreaking;
    std::vector<std::string> editorLinks;
    std::string editorUid;
    bool clientSideCollisions;
    bool disableRodSpellSyphon;
    bool paradeEntity;
    bool ignition;
    bool disableHorizontalPhysicalCollisions;
    bool disableLowerPhysicalCollisions;
    Level* level;
    bool clientSideJustSpawned;
    short ___padding;
    std::map<std::shared_ptr<Unit>, uint> attackCooldowns;
    std::vector<std::shared_ptr<Projectile>> sourceProjectiles;
    std::vector<std::shared_ptr<Projectile>> targetProjectiles;
    std::vector<std::shared_ptr<Entity>> m_children;
    std::vector<std::shared_ptr<Entity>> m_parents;
    bool isRespawned;
    ushort corpseCleanupTimer;
    std::vector<std::shared_ptr<Entity>> m_tetheredEntities;
    std::shared_ptr<Entity> m_tetheredParent;
};

struct Unit: public Entity {
    bool pickUpable;
    int resistFire;
    int resistCold;
    int resistElec;
    int resistPois;
    float freezeResistance;
    bool immuneToStealth;
    bool immuneToSpikes;
    bool stuckOnSpikes;
    bool burning;
    bool frozen;
    bool poisoned;
    bool stunned;
    bool isBoss;
    int damage;
    int defense;
    float moveSpeed;
    bool hasCorpse;
    bool facingLeft;
    bool isTargetable;
    char _padding_;
    std::weak_ptr<Player> pickedUpBy;
    std::weak_ptr<Player> lastPickedUpBy;
    float throwDamageModifier;
    std::vector<StatusEffect*> statusEffects;
    std::vector<std::shared_ptr<SpellEntity>> iceShards;
    std::vector<std::shared_ptr<Projectile>> stuckProjectiles;
    std::weak_ptr<ManEatingPlant> plantEatingMe;
    std::vector<std::shared_ptr<Wisp>> wispFamiliars;
    bool isBeingSacrificed;
    bool canBeHitInsideWalls;
    std::vector<std::shared_ptr<ManaOrb>> manaOrbs;
    std::vector<std::shared_ptr<Unit>> telepathyTargets;
    std::weak_ptr<Unit> telepathyOwner;
    EntityFaction telepathyFaction;
    sf::Vector2<float> telepathyOffset;
    float telepathyRotation;
    float telepathyRotationSpeed;
    uint telepathyVisibleFrames;
    bool canTK;
    std::vector<std::shared_ptr<Unit>> potentialTargets;
    std::vector<std::shared_ptr<Unit>> potentialTargetOwners;
    bool hideHurtCombatText;
    bool isOrganic;
    bool immuneToBlinkWeapon;
    bool immuneToCharm;
    bool dropCandyOnDie;
    bool justHurt;
    bool immuneToAcid;
    float stunGauge;
    float stunGaugeCap;
    float stunGaugeRegenRate;
    float damageAccumulatorFire;
    float damageAccumulatorIce;
    float damageAccumulatorElec;
    uchar acidDamageCounter;
    uint stunImmunityCooldownTimer;
    uint stunImmunityCooldown;
    uint psyPushDamageFrames;
    uint psyPushActiveFrames;
    std::map<std::shared_ptr<Unit>, uint> psyPushDamageCooldowns;
    std::vector<std::weak_ptr<Weapon>> weaponChildren;
    bool frozenLandedDown;
};

struct alignas(8) SpellEntity {
    char padding[0x1f8];
    float rotation;
    int minDamage;
    int maxDamage;
    bool critical;
    bool facingLeft;
    float laserStrength;
    float elementalDmgAccumulationFire;
    float elementalDmgAccumulationIce;
    float elementalDmgAccumulationElec;
    std::shared_ptr<Unit> caster;
    float strength;
    SpellType spellType;
    Sprite* sprite;
    Sprite superLaserBeam;
    sf::Texture* texRift;
    sf::Texture* texRiftEdge;
    uint pushFrames;
    std::set<std::shared_ptr<Unit>> hitUnits;
    std::set<std::shared_ptr<Entity>> hitEntities;
    bool explosionTrigger;
    sf::Vector2<float> lightningOrigin;
    uint spriteReplayFrames;
    uint lifeTimer;
    uint lifeTime;
    std::shared_ptr<Unit> frozenTarget;
    uint frameCounter;
    uint burnFrames;
    std::set<std::shared_ptr<Entity>> stuckEntities;
    uint fadeoutFrames;
    float webLife;
    bool webDecay;
    float iceX;
    float iceY;
    uint sfxTimer;
    std::map<std::shared_ptr<Entity>, uint> collideFrames;
    sf::Vector2<float> spawnPos;
    float healCircleRadius;
    float healCircleRot;
    int dotDamage;
    std::vector<int> dotDamagePerFrame;
    bool prevLandedDown;
    short _padding;
    std::map<std::shared_ptr<Unit>, uint> hitFrames;
    bool justTeleportedCaster;
    std::vector<sf::Vector2<float>> teleportEffectQueue;
    bool smallWeb;
    bool destructiveExplosion;
    short __padding;
    std::shared_ptr<ESound> rumbleSound;
    std::shared_ptr<ESound> loopSoundVortex;
    std::shared_ptr<ESound> loopSoundLightning;
    std::vector<std::pair<Sprite, int>> shockwaveSprites;
    sf::Vector2<float> lastShockwaveSpritePosition;
    sf::Vector2<float> destination;
    bool usingLargeFrostNovaSprite;
    std::vector<WaveEcho> waveEchos;
    float waveCycle;
    std::weak_ptr<SpellEntity> spacerOrbitTarget;
    sf::Vector2<float> spawnVel;
    sf::Vector2<float> prevMid;
    sf::VertexArray vaEffect;
    sf::Vector2<float> laserEndpoint;
    std::vector<std::pair<uint, uint>> debugLine;
    std::shared_ptr<SpellEntity> sustainedLightning;
    std::shared_ptr<SpecialEffect> lightningEffect;
    std::vector<bool> dimensionalRiftPlatformDistributor;
    std::vector<std::weak_ptr<Floater>> spawnedFloaters;
    uint numFloatersToSpawn;
    uint lastAttackedFloater;
    bool activeLifeTimer;
    bool isBackgroundRift;
    std::vector<sf::Vector2<float>> riftMesh;
    std::vector<sf::Vector2<float>> riftMeshEdgeTop;
    std::vector<sf::Vector2<float>> riftMeshEdgeBottom;
    std::vector<sf::Vector2<float>> debugRiftCircle;
    std::shared_ptr<SpellEntity> bgRift;
    std::vector<RiftParticle> riftParticles;
    ParticlePool* particlePool;
    float lightningBallMaxRange;
    bool lightningBallSpawnLightningAtDestination;
    std::vector<std::weak_ptr<Projectile>> cultistProjectiles;
    float cultistProjectilesRadius;
    float cultistProjectilesRotRadians;
    float cultistProjectilesMaxRadius;
    std::weak_ptr<Unit> targetUnit;
};
struct alignas(8) Floater {
    char padding[0x358];
    Sprite sprFlying;
    Sprite sprAttacking;
    Sprite* currSprite;
    std::weak_ptr<SpellEntity> floaterSwarm;
    float accelleration;
    float maxSpeed;
    uint lifespan;
    uint attackFrames;
};
struct alignas(8) Wisp {
    char padding[0x540];
};
struct alignas(8) ManaOrb {
    char padding[0x3a8];
};

struct Doodad : public Unit {
    DoodadType doodadType;
    int crateType;
    bool doAnimation;
    bool dark;
    bool explosiveEgg;
    Sprite* sprite;
    Sprite* spriteMask;
    Sprite* secondarySprite;
    bool isTorchLit;
    int shakeTimer;
    int entranceCloseDelayTimer;
    float telepathyEffect;
    float rotation;
    float prevDx;
    float prevLandedY;
    uint damageVelocityFrames;
    uint lifeTimer;
    uint lifeTime;
    std::set<std::shared_ptr<Entity>> damageSpawnedOn;
    float prevVMag;
    ParticlePool* particlePool;
    std::shared_ptr<Item> heldItem;
    uint wiggleTimer;
    uint wiggleTime;
    float netTelepathyOwner;
    std::set<std::shared_ptr<Unit>> clientSideHitUnits;
    ExitType exitType;
    bool hasStepped;
    std::vector<HalloweenEventLocations> halloweenEventLocationsBackground;
    std::vector<HalloweenEventLocations> halloweenEventLocations;
    std::vector<EntityType> halloweenEventMobTypes;
    int halloweenSeed;
    uint frame;
    uint halloweenSpawnActivationFrames;
    uint halloweenSpawnCount;
    bool touchingPlayer;
};

struct alignas(8) ManEatingPlant {
    char padding[0xbe8];
};

struct alignas(8) Projectile {
    char padding[0x3c8];
};

struct SpeechBubble : public Entity {
    Sprite sprite;
    BubbleType index;
    int frame;
    int durationTimer;
    int fadeInTimer;
};

struct CharacterInfo {
    int	x;
    int	y;
    int	w;
    int	h;
};

struct VFont {
    bool loaded;
    std::vector<CharacterInfo> characters;
    int characterHeight;
    int wBias;
    sf::Texture* texture;
};

struct Bonfire: Entity {
    char padding[0x508];
};

struct Fairy: public Unit {
    int cornerTimer;
    bool cornered;
    bool movingLeft;
    bool onPlayersBack;
    bool playerOnLedge;
    bool panicking;
    bool scaredOfPlayer;
    bool isHurt;
    bool netWasHurt;
    bool atHome;
    int homeWaitTimer;
    int randomMoveTimer;
    int animateTimer;
    bool animating;
    int animationStage;
    bool finishedAnimating;
    int spawnTimer;
    int frame;
    Sprite idleSprite;
    Sprite hurtSprite;
    Sprite walkSprite;
    Sprite corneredSprite;
    Sprite deadSprite;
    Sprite pickedUpSprite;
    Sprite onBackSprite;
    Sprite onLedgeSprite;
    Sprite* currSprite;
    std::shared_ptr<SpeechBubble> speechBubble;
    std::shared_ptr<Bonfire> targetBonfire;
    FairyType fairyType;
};

struct Familiar;
struct PetDog;
struct Grapple;
struct Chest;
struct Shop;
struct Shrine;
struct LoadSavePoint;
struct Checkpoint;
struct Grave;
struct Teleportal;
struct ExitDestination;
struct Sign;
struct Thief;
struct Monster;
struct Platform;

struct Affinity;
struct Skill;
struct AffinityAttributes {
    bool canRoll;
    bool rogueWallJump;
    int rogueEvade;
    bool potionKnowledge;
    int canTransmutePotions;
    bool potionEffectIncreased;
    float freeQuaffChance;
    bool hasFreeQuaffed;
    bool canLionRoar;
    bool canBearStomp;
    bool canWolfSprint;
    bool isBearStomping;
    uint lionRoarCooldown;
    bool canEagleRise;
    bool isEagleRising;
    bool eagleRiseReady;
    sf::Vector2<float> eagleRiseDirection;
    uint eagleRiseFrames;
    int bowStrafeDraw;
    int bowJumpDraw;
    int bowBounceCount;
    int arrowPenetration;
    int berserkerBlood;
    int canIgnorePain;
    int hasBerserkKillingBonus;
    int fastSpells;
    int canCriticalMagic;
    int castingCannotBeInterrupted;
    int canMoveWhileCasting;
    float bonusStunCQC;
    int canDirectionalCQC;
    float pummelEnergy;
    int pummelMax;
    bool godfist;
    bool daggerCrit;
    bool daggerCanThrow;
    bool daggerMastery;
    bool clubBonusStun;
    bool clubCanCharge;
    bool clubGround;
    bool clubFastCharge;
    bool canBlock;
    bool immuneToKnockback;
    bool defenseAura;
    int canReflectBlock;
    float autoBlockChance;
    int canEnchant;
    int canElementalEnchant;
    int canBrandWeapons;
    bool holyNoFallDamage;
    int canDivineWeapon;
    int divineWeaponShield;
    int holySecondChance;
    int canHolyLight;
    int canHolyLightAttack;
    bool petCanRegenerate;
    bool petDealsThrowDamage;
    bool petBouncy;
    bool petCanCritical;
    bool petCanJumpAttack;
    bool petCanSuperJumpAttack;
    bool petCommandAura;
    bool petSharePotion;
    bool petArmorBond;
    bool petWeaponBond;
    bool petShareDamage;
    bool petFastWhistle;
    bool petStrongBark;
    bool petFastBarks;
    bool petBarkWhileCarried;
    int canRodIncreasedRechargeRate;
    int canRodOvercharge;
    int canRodSpellSyphon;
    int canRodLeechCast;
    int canRodSpellCast;
    int canStealth;
    int stealthCritical;
    int stealthSmoke;
    bool swordCanHop;
    bool swordHasHopped;
    int swordDancingSkill;
    int swordCanPogo;
    bool swordCanSwing;
    bool swordCanCharge;
    float swordBonusIAS;
    bool swordCanSpin;
    int enableBonusWandMelee;
    int wandOverchargeSkill;
    int wandPassiveRecharge;
    int canChargeWands;
    int wandInfluenceSpells;
    int extraArmor;
    int extraStr;
    int extraDex;
    int extraVit;
    int extraInt;
    int extraLuk;
    int strengthPerkOne;
    int strengthPerkTwo;
    int dexterityPerkOne;
    int dexterityPerkTwo;
    int vitalityPerkTwo;
    int intelligencePerkOne;
    int intelligencePerkTwo;
    int luckPerkOne;
    int luckPerkTwo;
};
struct Inventory {
    char padding[0x348];
};
struct Background {
    BackgroundType	type;
    std::string name;
    std::string description;
    std::vector<std::string> positive;
    std::vector<std::string> negative;
};
struct PlayerMenu;
struct PlayerCustomizeMenu;
struct Player: public Unit {
    std::shared_ptr<Weapon> unarmedWeapon;
    bool emoting;
    int emoteDirection;
    int emoteDirection2;
    int emotePressedDir;
    int emoteCooldown;
    int emoteDuration;
    int showEmotePreviewFrames;
    float emoteRadius;
    float emoteRadius2;
    PlayerEmote currentEmote;
    bool playerActive;
    bool clientActivatedShop;
    uint showItemCountTimer;
    uint playerClass;
    bool randomizedClass;
    bool canGrapple;
    short padding; // Also don't know if this should be here, but we need to pad for isSkeleton.
    /*std::vector<bool>*/char hasRuneOrb[16]; // TODO: Downgrade MSVC or make a helper to deal with this
    uchar playerIndex;
    int palette;
    bool disconnected;
    bool netInIntermission;
    bool netLastReviveHadEffects;
    bool netIsDead;
    std::vector<std::pair<int, bool>> netItemsTryDrop;
    std::vector<std::tuple<int, bool, bool>> netItemsTryPickUp;
    std::vector<std::pair<int, int>> netItemsTryUse;
    std::vector<int> netShopTryBuy;
    std::vector<std::pair<std::pair<int, int>, int>> netAffinityLevelUp;
    std::vector<PlayerEmote> netEmotesToSend;
    bool netServerDoHurt;
    std::vector<NetHurtEvent> clientNetHurtEvents;
    std::vector<NetReflectBlockEvent> clientReflectBlockEvents;
    std::vector<NetTeleportEvent> clientTeleportEvents;
    std::vector<sf::Vector2<float>> serverSlowTeleportEvents;
    std::vector<int> serverChaosTeleportEvents;
    std::vector<NetChaosEvent> serverChaosSlapEvents;
    std::vector<NetChaosEvent> serverChaosBerserkEvents;
    std::vector<NetModSpaceTimeEvent> serverModSpaceTime;
    std::set<int> netGrabbedBy;
    std::set<int> netTryUseShrine;
    std::vector<int> netHealEvents;
    std::vector<StatusEffect*> netStatusEffectsAdd;
    std::vector<StatusEffect*> netStatusEffectsRemove;
    std::vector<int> statBonuses;
    bool netStatsUpdated;
    int exitGoalType;
    EntityType causeOfDeath;
    DamageType causeOfDeathDamageType;
    std::shared_ptr<Fairy> heldFairy;
    std::shared_ptr<Unit> heldUnit;
    std::vector<std::shared_ptr<Familiar>> familiars;
    std::shared_ptr<PetDog> pet;
    bool hanging;
    bool rolling;
    bool sitting;
    float fireFlickerEffect;
    bool holdingInteract;
    bool holdingWalkSlow;
    bool holdingJump;
    bool holdingDown;
    bool holdingUp;
    bool holdingLeft;
    bool holdingRight;
    Inventory inventory;
    bool inputDisabled;
    bool movementDisabled;
    float transitionAlpha;
    bool inCaravan;
    bool enteringLevel;
    bool tryingToExitLevel;
    bool canExitLevel;
    bool exitingLevel;
    bool exitingCentered;
    bool exitingPortal;
    bool insideShop;
    bool overRideShowCombatText;
    int affinityPoints;
    bool gameOver;
    bool doRevive;
    bool isSpectatingWraith;
    int spectateWraithFadeInFrames;
    bool isSkeleton;
    bool doSkeletonRespawn;
    int skeletonDeathsThisFloor;
    int skeletonReviveCooldown;
    int skeletonExplodeTimer;
    int deadTimer;
    int hurtTimer;
    bool isGrabbed;
    Background background;
    std::vector<Affinity*> affinities;
    std::vector<Skill*> skills;
    std::vector<Skill*> controlledSkills;
    std::vector<Skill*> skillQuickSlots;
    uint currSkill;
    bool cheatNoclip;
    bool debugInvisible;
    float debugNoclipSpeed;
    sf::Vector2<float> noClipVel;
    std::shared_ptr<Entity> bopped;
    sf::Vector2<float> castTargetPosition;
    int discount;
    int experienceLevel;
    int storedExperienceLevels;
    int levelUpEffectTimer;
    int goldCount;
    bool asceticVow;
    int hardHead;
    int knockbackModifier;
    int cursedFairyFireAttack;
    int fairyFireAttack;
    int slowAttack;
    float evasionPercent;
    float criticalPercent;
    float maxAir;
    float air;
    float airIndicatorAlpha;
    bool lockPrompt;
    bool transitionPrompt;
    int punchPower;
    float meleeDamage;
    float rangeDamage;
    float damageFromItems;
    int criticalChanceFromItems;
    float cursedJumpDamage;
    float jumpDamage;
    bool superJump;
    bool didSuperJump;
    int haveWalkChargeDamage;
    bool chaoticElecLance;
    bool rageVictory;
    int touchingWebFrames;
    int lightRadius;
    bool farsighted;
    float bonusAttackSpeed;
    float increasedAttackSpeed;
    float jumpSpeed;
    int numExtraJumps;
    int numJumps;
    int cursedDoubleJump;
    int fireWalk;
    int cursedFireWalk;
    int fireWalkCooldown;
    int bouncyShoes;
    int cursedBouncyShoes;
    int superSpeed;
    int cursedSuperSpeed;
    bool onWall;
    AffinityAttributes attributes;
    bool didWallJump; // Unsure if this should be here, but we need some padding before cursedGodBlessing
    int throwsHard;
    int throwsWeak;
    int goldCollector;
    int cursedGoldCollector;
    int slowAura;
    int freezeAura;
    int flameAura;
    int breathUnderwater;
    int cursedBreathUnderwater;
    float swordPogoDamageMod;
    bool holyWeapon;
    int ankhReincarnation;
    int holyReincarnation;
    int reincarnateTimer;
    int timesReincarnated;
    bool reincarnating;
    float blockHp;
    int armor;
    uchar defenseAuraCooldownTimer;
    int rangeFocus;
    int cursedRange;
    int weighted;
    int berserkitis;
    int lifesteal;
    int magicFind;
    int extraMagicFind;
    int hasTrueSight;
    int hasCursedTrueSight;
    int canSwim;
    int featherFall;
    int cursedFeatherFall;
    int guardianSpirit;
    int lightfooted;
    int phaseHorizontal;
    int phaseVertical;
    int cursedPhaseHorizontal;
    int cursedPhaseVertical;
    bool phasing;
    int aboutToPhase;
    int runningIntoWallTimer;
    int holdingDownJumpTimer;
    int chaosBlessingTimer;
    int chaosBlessingCount;
    sf::Vector2<float> phaseVelocity;
    float lastSafex;
    float lastSafey;
    float swimSpeed;
    bool fortuneExtraGold;
    bool fortuneExtraTreasure;
    bool fortuneTreasureRevealed;
    int canSeeHealthBars;
    uint afterimages;
    int cursedGodBlessing;
    int spellGodBlessing;
    int reflectProjectiles;
    int reflectProjectilesCooldown;
    uint reflectShieldFrames;
    bool partialLevelReveal;
    bool wallTeleFragged;
    bool moveUpHeld;
    bool prevMoveUpHeld;
    bool moveDownHeld;
    bool prevMoveDownHeld;
    int freezeFrame;
    bool canExitNotTouchingChest;
    int coinHeal;
    int mortalityAttribute;
    int onHitCauseBurn;
    int onHitCauseFreeze;
    int onHitCauseShock;
    int onHitCausePoison;
    int onHitCauseIncorporeal;
    int cursedOnHitCauseBurn;
    int cursedOnHitCauseFreeze;
    int cursedOnHitCauseShock;
    int cursedOnHitCausePoison;
    int onHitReflectDamage;
    int onHitSummonSpirits;
    int canFlappyBird;
    int flappyFrames;
    int repulseAttackers;
    int justTeleported;
    bool casting;
    uint castTimer;
    uint castCooldownTimer;
    uint castCooldownTime;
    uint skillCooldownBarFlashFrames;
    int numSummonSpirits;
    int spellCooldownReduction;
    int castCooldownReduction;
    int spellTimeReduction;
    int spellManaCostReduction;
    int fireShieldLevel;
    float instaCastChance;
    float instaCooldownChance;
    float wandBreakChance;
    float weaponManaCostModifier;
    int wandBonusDamage;
    uint lookUpFrames;
    bool prevLookingUp;
    int canUseManaOrbs;
    float weaponSizeModifier;
    int canControlWandActivation;
    float rageJumpCheckX;
    uint rageJumpCounter;
    float gravityMultiplier;
    bool canMoveWhileCastCooldown;
    int survivedWithMortalAttribute;
    bool isPummeling;
    int canChargeCQC;
    uint berserkerBloodHitCount;
    uint berserkerBloodHitResetFrames;
    uint berserkKillCount;
    int bearStompGauge;
    int framesSinceLastBearStomp;
    uint releasedLeftFrames;
    uint releasedRightFrames;
    uint releasedUpFrames;
    uint holdingWalkFrames;
    uint wolfSprintFrames;
    float lifeStealDamageInflicted;
    float rodDamageInflicted;
    int canSeeUnseenMonsters;
    int canMagicPogo;
    bool haveRechargedAtBonfire;
    bool useControlledSkills;
    bool controlUsedThisCycle;
    bool useDirectionalSpellCasting;
    uchar serverGoldPickedUp;
    bool netBearStompEffects;
    int canPsyLevitate;
    bool psyLevitateActive;
    int canPsyTK;
    uint psyTKCooldown;
    uint suffocationDamageCount;
    int canSaveRodChargeAttackTimer;
    int savedRodChargeAttack;
    bool disableRodSpellSyphonEntities;
    uint wallMeatAttempts;
    sf::Vector2<float> holySpiritPosition;
    float holySpiritOscillator;
    // Technically there's a second value on the set but it's an undefined struct
    std::set<sf::Vector2<int>> attemptedWallMeatLocations;
    bool clientHolyNoFallDamageEvent;
    std::set<std::shared_ptr<Unit>> teleFraggedUnits;
    std::shared_ptr<HoverText> attachedHoverText;
    std::shared_ptr<PlayerMenu> playerMenu;
    Sprite standSprite;
    Sprite climbSprite;
    Sprite ladderSlideSprite;
    Sprite wallSlideSprite;
    Sprite wallJumpSprite;
    Sprite duckSprite;
    Sprite sitSprite;
    Sprite defendSprite;
    Sprite lookUpSprite;
    Sprite enteringSprite;
    Sprite exitingSprite;
    Sprite walkSprite;
    Sprite walkSlowSprite;
    Sprite ledgeHangAnimSprite;
    Sprite pushSprite;
    Sprite rollSprite;
    Sprite eagleRiseSprite;
    Sprite swingSprite;
    Sprite twoHandSwingSprite;
    Sprite twoHandSwingArmsSprite;
    Sprite stabSprite;
    Sprite aimBowSprite;
    Sprite aimArmSprite;
    Sprite aimWalkSprite;
    Sprite throwChargeSprite;
    Sprite throwLaunchSprite;
    Sprite throwArmSprite;
    Sprite jumpSprite;
    Sprite fallSprite;
    Sprite jumpPogoSprite;
    Sprite jumpPogoSpinSprite;
    Sprite hangSprite;
    Sprite dashSprite;
    Sprite hurtSprite;
    Sprite deadSprite;
    Sprite swimSprite;
    Sprite diveSprite;
    Sprite castingSprite;
    Sprite castReadySprite;
    Sprite castReleasedSprite;
    Sprite swimTransitionSprite;
    Sprite swimTransitionReverseSprite;
    Sprite skullWraithSprite;
    Sprite wraithBodySprite;
    Sprite holdDeepSwimSprite;
    Sprite holdDuckSprite;
    Sprite holdEnteringSprite;
    Sprite holdExitingSprite;
    Sprite holdJumpSprite;
    Sprite holdFallSprite;
    Sprite holdLookUpSprite;
    Sprite holdSwimSprite;
    Sprite holdStandSprite;
    Sprite holdSwimTransitionSprite;
    Sprite holdSwimTransitionReverseSprite;
    Sprite holdThrowLaunchSprite;
    Sprite holdWalkSprite;
    Sprite holdWalkSlowSprite;
    VFont* tinyFont;
    Sprite stopWatchSprite;
    Sprite auraSprite;
    Sprite castTargetSprite;
    Sprite lockPromptSprite;
    Sprite transitionPromptSprite;
    Sprite aimCursorSprite;
    Sprite runeOrbSprite;
    Sprite holySpiritSprite;
    Sprite* currAttackSprite;
    Sprite* currSprite;
    Sprite portraitSprite;
    std::shared_ptr<Weapon> currWeapon;
    std::shared_ptr<Item> currWeaponItem;
    float weaponAimAngle;
    int disconnectedEffectTimer;
    float netAverageUpdateFrames;
    int netFramesSinceLastUpdate;
    std::vector<InterpInformation> netInterpInformation;
    int netMeleeWeaponParentId;
    int netRangeWeaponParentId;
    uchar netWeaponSwingCount;
    bool netFirstEntityState;
    std::queue<WeaponNetSwingMeta> netWeaponSwingQ;
    std::vector<int> stats;
    std::vector<int> trueStats;
    std::shared_ptr<Grapple> currGrapple;
    std::vector<sf::Vector2<float>> runeOrbsOffset;
    std::shared_ptr<Chest> touchingChest;
    std::vector<std::shared_ptr<Item>> touchingItems;
    std::shared_ptr<Shop> touchingShop;
    std::shared_ptr<Shrine> touchingShrine;
    std::shared_ptr<Fairy> touchingFairy;
    std::vector<std::shared_ptr<Unit>> touchingPickUpableUnits;
    std::shared_ptr<LoadSavePoint> touchingLoadSavePoint;
    std::shared_ptr<Checkpoint> lastTouchedCheckpoint;
    std::shared_ptr<Bonfire> touchingBonfire;
    std::shared_ptr<Bonfire> waitingForServerBonfire;
    std::shared_ptr<Grave> touchingGrave;
    std::shared_ptr<Teleportal> touchingTeleportal;
    std::shared_ptr<SpellEntity> touchingPortal;
    std::shared_ptr<ExitDestination> touchingExitDestination;
    std::shared_ptr<Sign> touchingSign;
    bool touchingHaystack;
    int touchingExitFrames;
    int preExitingFrames;
    int touchingActivateFrames;
    uint usingTeleportalFrames;
    bool tryingToUseTeleportal;
    sf::Vector2<float> targetHeldOffset;
    sf::Vector2<float> currHeldOffset;
    int helpPromptTimer;
    int tookDamageLastFrame;
    int dashTimer;
    int swimStrokeTimer;
    int dropItemTimer;
    bool cycleHeld;
    bool prevCycleHeld;
    int cycleMeleeTimer;
    int cycleRangeTimer;
    int cycleSkillTimer;
    int stealthChargeTimer;
    bool tryFallHang;
    bool tryFallHangFacingLeft;
    sf::Vector2<int> tryFallHangTile;
    bool climbing;
    bool ladderSliding;
    float ladderSlideEffectsCounter;
    bool prevSwimming;
    bool swimming;
    bool headUnderWater;
    int inWaterFrames;
    int prevClimbFrame;
    int hangTileX;
    int hangTileY;
    int sitTimer;
    int rollCooldownTimer;
    bool walking;
    int pushing;
    bool prevHoldingLeft;
    bool prevHoldingRight;
    bool prevHoldingUp;
    bool prevHoldingDown;
    bool prevDucking;
    bool prevHoldingWalkSlow;
    bool prevHoldingInteract;
    bool ducking;
    bool blocking;
    int blockTimer;
    bool lookingUp;
    int transitioningSwim;
    int swimTransitionFrame;
    bool swimTransitioned;
    bool prevJumpHeld;
    bool jumpHeld;
    bool didJump;
    bool castHeld;
    bool prevCastHeld;
    bool throwing;
    bool throwingTwoHanded;
    bool attacking;
    bool attackingHeld;
    bool prevAttackingHeld;
    std::vector<Sprite> afterImageFrames;
    std::vector<std::shared_ptr<Weapon>> afterImageWeapons;
    std::shared_ptr<SpellEntity> portal;
    std::shared_ptr<SpellEntity> portalEntrance;
    float prevX;
    float prevY;
    std::vector<sf::Vector2<float>> prevPositions;
    int drawFrameCounter;
    bool prevDead;
    bool projectilesShifted;
    float prevDx;
    bool prevLandedDown;
    bool prevLandedLeft;
    bool prevLandedRight;
    uint frame;
    std::shared_ptr<Entity> castTarget;
    sf::Vector2<int> jumpOriginTile;
    bool teleportTravelling;
    int teleportTravellingFrames;
    sf::Vector2<float> teleportTravelTarget;
    int teleportTravelDestinationFrames;
    int chaosTeleportTimer;
    int invulFrames;
    int incorporealFrames;
    int walkCharge;
    bool dashingUp;
    uint reviveHolyLightFrames;
    std::shared_ptr<Thief> touchingThiefNPC;
    float pummelBonusDamage;
    bool holdingMeleeAttack;
    std::set<std::shared_ptr<Unit>> hitUnits;
    std::vector<std::shared_ptr<Entity>> landedOnBoulders;
    std::vector<std::shared_ptr<Monster>> summonedMonsters;
    std::shared_ptr<Platform> standingOnFloatingTile;
    ConvexBody ignorePlatformArea;
    bool canAlterSpaceTime;
    bool allowStepEffects;
    std::vector<uint> cqcCombo;
    bool serverPreparedDivineWeapon;
    bool serverPreparedGodFist;
    bool netWeaponSwingCancelled;
    int swordSpinFrames;
    float spriteRotationDegrees;
    float meleeAttackTurnStrength;
    uint clientPummelCount;
    uint serverPummelCount;
    std::vector<sf::Vector2<float>> godfistEffectOffsets;
    float clientSideGodFistEffectProgress;
    float attacksPerSecond;
    /*std::vector<bool>*/char attackHistoryBuffer[16];
    int outOfCombatFrames;
};

#pragma warning(pop)